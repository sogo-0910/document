# ğŸ¶ãƒšãƒƒãƒˆã®ä½“èª¿ç®¡ç†ã‚¢ãƒ—ãƒª

## ğŸæ¦‚è¦

- èªè¨¼æ©Ÿèƒ½
  - ä¼šå“¡ç™»éŒ²
    - æŒ‡å®šã—ãŸãƒ¡ã‚¢ãƒ‰ã«ãƒ•ã‚©ãƒ¼ãƒ ã‚’é£›ã°ã—ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’è¨­å®šã™ã‚‹
  - ãƒ­ã‚°ã‚¤ãƒ³
    - ä¼šå“¡ç™»éŒ²ãŒå®Œäº†ã—ã¦ã„ãŸã‚‰æŒ‡å®šã—ãŸãƒ¡ã‚¢ãƒ‰ãƒ»PWã§ãƒ­ã‚°ã‚¤ãƒ³
  - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
  - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤
  - ãƒ­ã‚°ã‚¤ãƒ³ã•ã‚Œã¦ã„ãªã„ã¨ãã¯/loginï¼ˆãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ï¼‰ã«é£›ã°ã™
- ç®¡ç†ã™ã‚‹ãƒšãƒƒãƒˆã®ãƒ«ãƒ¼ãƒ ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ã¨ãã®ã¿æœ‰åŠ¹ï¼‰
  - ã‚¿ã‚¤ãƒ ãƒ„ãƒªãƒ¼ã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™
  - ãƒšãƒƒãƒˆã®ãƒ«ãƒ¼ãƒ ã¯ä½œæˆã™ã‚‹ã‹æ‹›å¾…ã‚’å—ã‘ãªã„ã¨å…¥ã‚Œãªã„
    - ãƒ«ãƒ¼ãƒ IDã¯å¿…ãšé‡è¤‡ã—ãªã„ã‚ˆã†ã«ãƒ©ãƒ³ãƒ€ãƒ ãªè¤‡æ•°æ–‡å­—ã§ç”Ÿæˆã•ã‚Œã‚‹ã‚ˆã†ã«ã—ãŸã„
  - ãƒ«ãƒ¼ãƒ ã§ã§ãã‚‹ã“ã¨
  - 1ã‹æœˆã”ã¨ã®ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼UIã«ãªã£ã¦ã„ã¦æ—¥ä»˜ã®ã‚»ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨é …ç›®ã¨æ™‚é–“ã¨å†…å®¹ã‚’ç™»éŒ²ã§ãã‚‹
    - èª°ãŒç™»éŒ²ã—ãŸã‹ã‚ã‹ã‚‹ã‚ˆã†ã«ã—ã¦
      - ãã‚Œãã‚Œç·¨é›†ãƒ»å‰Šé™¤å¯èƒ½
      - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ä¸€è¦§ã«ã¯é …ç›®åã®ã¿è¡¨ç¤º
        - é …ç›®åã®ãƒ©ãƒ™ãƒ«ã®èƒŒæ™¯è‰²ã¯å¤‰æ›´å¯èƒ½
  - ä½“é‡ã®ç™»éŒ²
    - ä½“é‡ã®ç™»éŒ²ãŒã§ãã‚‹
      - ç™»éŒ²å¾Œã«ç·¨é›†ãƒ»å‰Šé™¤ãŒã§ãã‚‹
    - ä½“é‡ã‚’ã‚°ãƒ©ãƒ•ã§é€±ãƒ»æœˆãƒ»å¹´ã”ã¨ã«è¦‹ã‚Œã‚‹
  - å†™çœŸã®å…±æœ‰
    - å†™çœŸã®æŠ•ç¨¿
      - ç·¨é›†ãƒ»å‰Šé™¤å¯èƒ½
      - æŠ•ç¨¿ã™ã‚‹ã¨ãã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¦æŠ•ç¨¿ã§ãã‚‹

## âš¡æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆNext.js + Supabaseç‰ˆï¼‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

| é …ç›®           | æŠ€è¡“ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª                                    | å‚™è€ƒ                                          |
| -------------- | --------------------------------------------------- | --------------------------------------------- |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | **Next.js 14**                                | App Routerã€React Server Componentsæ´»ç”¨       |
| è¨€èª           | **TypeScript**                                | å‹å®‰å…¨ã«ã™ã‚‹                                  |
| èªè¨¼           | **NextAuth.jsï¼ˆAuth.jsï¼‰**+**Supabase** | Emailã€OAuthèªè¨¼ï¼ˆGoogle, GitHub ãªã©ï¼‰ã‚‚ç°¡å˜ |
| UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª   | **Tailwind CSS**                              | é–‹ç™ºåŠ¹ç‡UP                                    |
| ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º | **react-calendar**or**FullCalendar**    | ä½¿ã„ã‚„ã™ã„æ–¹ã§                                |
| ã‚°ãƒ©ãƒ•è¡¨ç¤º     | **recharts**                                  | ä½“é‡æ¨ç§»ã‚°ãƒ©ãƒ•                                |
| çŠ¶æ…‹ç®¡ç†       | **Zustand** ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰                  | è»½é‡ã§ä½¿ã„ã‚„ã™ã„                              |

---

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆBaaSï¼‰

| é …ç›®         | æŠ€è¡“ãƒ»ãƒ©ã‚¤ãƒ–ãƒ©ãƒª                 | å‚™è€ƒ                          |
| ------------ | -------------------------------- | ----------------------------- |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | **Supabaseï¼ˆPostgreSQLï¼‰** | RDBã§ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã—ã‚„ã™ã„       |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸   | **Supabase Storage**       | å†™çœŸãƒ»ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰        |
| èªè¨¼         | **Supabase Auth**          | NextAuth.jsã¨ã‚‚çµ„ã¿åˆã‚ã›å¯èƒ½ |
| APIé€šä¿¡      | **supabase-js**            | Supabaseå…¬å¼SDK               |

---

### é–‹ç™ºãƒ»é‹ç”¨

| é …ç›®           | æŠ€è¡“ãƒ»ã‚µãƒ¼ãƒ“ã‚¹                          | å‚™è€ƒ                                |
| -------------- | --------------------------------------- | ----------------------------------- |
| ãƒ‡ãƒ—ãƒ­ã‚¤       | **Vercel**                        | Next.jså…¬å¼ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã€‚ç„¡æ–™æ ã‚‚å¼·ã„ |
| ç’°å¢ƒå¤‰æ•°ç®¡ç†   | **Next.jsç’°å¢ƒå¤‰æ•°ï¼ˆ.env.localï¼‰** | APIã‚­ãƒ¼ãªã©                         |
| å‹ãƒã‚§ãƒƒã‚¯     | **ESLint + Prettier**             | ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š                      |
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç† | **GitHub**                        | ã‚½ãƒ¼ã‚¹ç®¡ç†                          |

---

# ğŸ”¥ Next.js + Supabase é–‹ç™ºã‚¹ã‚¿ãƒ¼ãƒˆæ™‚ã®æµã‚Œ

## âœ… â‘  å…¨ä½“è¨­è¨ˆãƒ»æº–å‚™

### 1. ç›®çš„ãƒ»æ©Ÿèƒ½ãƒ»ç”»é¢ã‚’æ•´ç†

ã¾ãšã€ã€Œä½•ã‚’ä½œã‚‹ã®ã‹ã€ã€Œå¿…è¦ãªæ©Ÿèƒ½ãƒ»ç”»é¢ã¯ï¼Ÿã€ã‚’ã–ã£ãã‚Šæ´—ã„å‡ºã™ã€‚

#### ä¾‹ï¼šã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¢ãƒ—ãƒªã®å ´åˆ

| æ©Ÿèƒ½                   | ç”»é¢               | å‚™è€ƒ                        |
| ---------------------- | ------------------ | --------------------------- |
| èªè¨¼                   | ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ç™»éŒ²     | NextAuth.js + Supabase Auth |
| ã‚¿ã‚¹ã‚¯ä¸€è¦§ãƒ»ç™»éŒ²ãƒ»ç·¨é›† | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰     | CRUDæ“ä½œ                    |
| ã‚¿ã‚¹ã‚¯è©³ç´°è¡¨ç¤º         | ã‚¿ã‚¹ã‚¯è©³ç´°ãƒšãƒ¼ã‚¸   | ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½è¿½åŠ ã‚‚ã‚ã‚Šã‹ã‚‚  |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰   | ã‚¿ã‚¹ã‚¯æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ« | Supabase Storageåˆ©ç”¨        |

---

### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

Supabaseã¯PostgreSQLã€‚å¿…è¦ãªãƒ†ãƒ¼ãƒ–ãƒ«ã‚’è€ƒãˆã¦ãŠãã€‚

#### ä¾‹ï¼šã‚¿ã‚¹ã‚¯ç®¡ç†ã‚¢ãƒ—ãƒªç”¨ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ

| ãƒ†ãƒ¼ãƒ–ãƒ«å | ã‚«ãƒ©ãƒ ä¾‹                                                        | å‚™è€ƒ                           |
| ---------- | --------------------------------------------------------------- | ------------------------------ |
| users      | id, email, name, created_at                                     | Supabase Authã§è‡ªå‹•ç”Ÿæˆã‚ã‚Š    |
| tasks      | id, user_id, title, description, status, created_at, updated_at | ã‚¿ã‚¹ã‚¯æƒ…å ±                     |
| comments   | id, task_id, user_id, content, created_at                       | ã‚¿ã‚¹ã‚¯è©³ç´°ã«ç´ã¥ãã‚³ãƒ¡ãƒ³ãƒˆ     |
| files      | id, task_id, file_url, created_at                               | Supabase Storageã§ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç† |

---

## âœ… â‘¡ ç’°å¢ƒæ§‹ç¯‰

### 1. Next.js ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```
npx create-next-app@latest my-task-app
cd my-task-app
```

### 2. å¿…è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```
npm install @supabase/supabase-js next-auth tailwindcss postcss autoprefixer
```

### 3. TailwindCSS åˆæœŸè¨­å®š

```npx
npx tailwindcss init -p
```

`tailwind.config.js`ã«ä»¥ä¸‹è¿½è¨˜

```
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ['./pages/**/*.{js,ts,jsx,tsx}', './components/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

`globals.css`ã«ä»¥ä¸‹è¿½è¨˜

```
@tailwind base;
@tailwind components;
@tailwind utilities;
```

---

## âœ… â‘¢ Supabaseè¨­å®š

### 1. Supabaseã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

[https://supabase.com/](https://supabase.com/)
â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ â†’ APIã‚­ãƒ¼ã¨URLå–å¾—

### 2. `.env.local` ä½œæˆ

```
NEXT_PUBLIC_SUPABASE_URL=YOUR_SUPABASE_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
```

### 3. Supabaseã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ

`lib/supabaseClient.ts`

```
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseKey)
```

---

## âœ… â‘£ èªè¨¼ï¼ˆNextAuth.js + Supabaseï¼‰

### 1. `pages/api/auth/[...nextauth].ts` ä½œæˆ

```
import NextAuth from 'next-auth'
import EmailProvider from 'next-auth/providers/email'
import { SupabaseAdapter } from '@next-auth/supabase-adapter'

export default NextAuth({
  providers: [
    EmailProvider({
      server: process.env.EMAIL_SERVER!,
      from: process.env.EMAIL_FROM!,
    }),
  ],
  adapter: SupabaseAdapter({
    url: process.env.NEXT_PUBLIC_SUPABASE_URL!,
    secret: process.env.SUPABASE_SERVICE_ROLE_KEY!,
  }),
})
```

#### è£œè¶³ï¼š

* `EMAIL_SERVER`ã€`EMAIL_FROM`ã¯Magic Linkãªã©ãƒ¡ãƒ¼ãƒ«èªè¨¼ç”¨ã€‚
* `SUPABASE_SERVICE_ROLE_KEY` ã¯Supabaseã®Service Role Keyï¼ˆ.envã«è¿½åŠ ã—ã¦ãŠãï¼‰

---

## âœ… â‘¤ DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

Supabase Studioï¼ˆç®¡ç†ç”»é¢ï¼‰ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’æ‰‹å‹•ä½œæˆã™ã‚‹ã‹ã€SQLã‚¯ã‚¨ãƒªã§å®Ÿè¡Œã€‚

ä¾‹ï¼š`tasks`ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ

```
create table tasks (
  id uuid primary key default uuid_generate_v4(),
  user_id uuid references auth.users(id),
  title text not null,
  description text,
  status text default 'todo',
  created_at timestamp default now(),
  updated_at timestamp default now()
);
```

---

## âœ… â‘¥ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆç”»é¢é–‹ç™ºï¼‰

### 1. ã‚¿ã‚¹ã‚¯ä¸€è¦§ãƒšãƒ¼ã‚¸

`pages/index.tsx`

```
import { supabase } from '../lib/supabaseClient'

export default function Home({ tasks }: { tasks: any[] }) {
  return (
    <div className="p-4">
      <h1 className="text-xl font-bold">ã‚¿ã‚¹ã‚¯ä¸€è¦§</h1>
      <ul>
        {tasks.map((task) => (
          <li key={task.id} className="border-b py-2">
            {task.title}
          </li>
        ))}
      </ul>
    </div>
  )
}

export async function getServerSideProps() {
  const { data: tasks } = await supabase.from('tasks').select('*')
  return { props: { tasks } }
}
```

---

## âœ… â‘¦ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

### 1. Supabase Storage ãƒã‚±ãƒƒãƒˆä½œæˆ

Supabase Studioã§ã€ŒStorageã€â†’ã€Œæ–°ã—ã„ãƒã‚±ãƒƒãƒˆä½œæˆã€

### 2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†

```
const uploadFile = async (file: File) => {
  const { data, error } = await supabase.storage.from('task-files').upload(`tasks/${file.name}`, file)

  if (error) {
    console.error(error)
    return null
  }

  return data
}
```

---

## âœ… â‘§ ãƒ‡ãƒ—ãƒ­ã‚¤

### 1. Vercelã§ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆNext.jsã¨ç›¸æ€§â—ï¼‰

* GitHubé€£æº â†’ `vercel` CLIã§ãƒ‡ãƒ—ãƒ­ã‚¤ã‚‚å¯èƒ½

---

## âœ… â‘¨ é€²ã‚æ–¹ã®ä¾‹

### STEP1. èªè¨¼ï¼ˆNextAuth.js + Supabaseï¼‰

â†’ Magic Link or ãƒ¡ãƒ¼ãƒ«èªè¨¼ç¢ºèª

### STEP2. ã‚¿ã‚¹ã‚¯CRUD

â†’ ä¸€è¦§ãƒ»ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤

### STEP3. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

â†’ Storageä½¿ã£ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»è¡¨ç¤º

### STEP4. ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½

â†’ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è³¼èª­ï¼ˆSupabase Realtimeï¼‰ã‚‚æ¤œè¨

---

## âœ… ã‚ˆãä½¿ã†å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

* [Next.jså…¬å¼]()
* [Supabaseå…¬å¼]()
* [NextAuth.jså…¬å¼]()
* [Supabase Adapterï¼ˆNextAuthå…¬å¼ï¼‰]()

---

## âœ… æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ä¾‹ã¾ã¨ã‚

| é …ç›®           | ä½¿ç”¨æŠ€è¡“                                 |
| -------------- | ---------------------------------------- |
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Next.js 14ï¼ˆApp Router or Pages Routerï¼‰ |
| ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°   | TailwindCSS                              |
| èªè¨¼           | NextAuth.js + Supabase Auth              |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹   | Supabaseï¼ˆPostgreSQLï¼‰                   |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸     | Supabase Storage                         |
| ãƒ‡ãƒ—ãƒ­ã‚¤       | Vercel                                   |
